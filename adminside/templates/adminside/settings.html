{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    {% block title %}
    <title>Settings</title>
    {% endblock %}

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css"
    />

    {% block css %}
    <link rel="stylesheet" href="{% static 'css/settings_style.css' %}" />
    {% endblock %}

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&display=swap"
      rel="stylesheet"
    />
  </head>
  <body>
    <div class="top-navbar">
      <div class="user-info">
        <span class="notification"><i class="fa-solid fa-bell"></i></span>
        <span id="current-date">{{ user.username }}<br/></span>
        <img src="{{ user.staff_img.url }}?{{ user.staff_img }}" alt="Profile Image" 
        class="staff-profile-img rounded-circle" 
        style="width: 50px; height: 50px; object-fit: cover;margin-left: -3px;margin-bottom: 8px;">
         </div>
    </div>
    
    <script>
      const today = new Date();
      const year = today.getFullYear();
      const month = String(today.getMonth() + 1).padStart(2, '0');
      const day = String(today.getDate()).padStart(2, '0'); 
      const formattedDate = `${year}-${month}-${day}`;
    
      document.getElementById("current-date").innerHTML += formattedDate;
    </script>

    <div class="sidebar" id="sidebar">
      <div class="pos-name">
        <h2>POS System</h2>
      </div>
      <ul>
        <li>
          <a
            href="{% url 'adminside:profile' %}"
            class="nav-link {% if request.path == '/profile/' %}active{% endif %}"
          >
            <i
              class="fa {% if request.path == '/profile/' %}fa-user-circle{% else %}fa-user{% endif %}"
            ></i>
            <span> Profile</span>
          </a>
        </li>
        <li>
          <a
            href="{% url 'adminside:edit_profile' %}"
            class="nav-link {% if request.path == '/edit_profile/' %}active{% endif %}"
          >
            <i
              class="fa {% if request.path == '/edit_profile/' %}fa-pen-to-square{% else %}fa-edit{% endif %}"
            ></i>
            <span> Edit Profile</span>
          </a>
        </li>
        <li>
          <a
            href="{% url 'adminside:change_password' %}"
            class="nav-link {% if request.path == '/change_password/' %}active{% endif %}"
          >
            <i
              class="fa {% if request.path == '/change_password/' %}fa-lock-open{% else %}fa-lock{% endif %}"
            ></i>
            <span> Change Password</span>
          </a>
        </li>
        <li>
          <a
            href="{% url 'adminside:dashboard' %}"
            class="nav-link {% if request.path == '/dashboard/' %}active{% endif %}"
          >
            <i
              class="fa {% if request.path == '/dashboard/' %}fa-tachometer-alt{% else %}fa-home{% endif %}"
            ></i>
            <span> Back to Dashboard</span>
          </a>
        </li>
      </ul>
    </div>

    <div class="content" id="content-area">{% include template %}</div>
  </body>
</html>
